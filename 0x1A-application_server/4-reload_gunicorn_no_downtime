#!/usr/bin/env bash
# Get the PID of the Gunicorn master process
master_pid=$(ps aux | grep '[g]unicorn' | awk '{print $2}')

# Check if Gunicorn master process is running
if [ -z "$master_pid" ]; then
    echo "Gunicorn master process not found. Make sure Gunicorn is running."
    exit 1
fi

# Gracefully restart Gunicorn master process
kill -s HUP "$master_pid"

echo "Gunicorn master process has been gracefully restarted."

